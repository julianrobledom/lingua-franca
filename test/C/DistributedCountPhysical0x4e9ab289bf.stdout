Federate DistributedCountPhysical in Federation ID 'c8ac4cf559984c94f37f7d0217fc180fc4f5ad56601a60d6'
#### Launching the federate federate__c.
#### Launching the federate federate__p.
#### Bringing the RTI back to foreground so it can receive Control-C.
RTI -i ${FEDERATION_ID} -n 2 -c init exchanges-per-interval 10
expected delay is 273558653 and 14726505130000000 and delay probability 0
Federation ID for executable /home/peter/lingua-franca/test/C/fed-gen/DistributedCountPhysical/bin/federate__p: c8ac4cf559984c94f37f7d0217fc180fc4f5ad56601a60d6
DEBUG: Physical time: 1690066200781489735. Elapsed: -7533305836073286073. Offset: 0
DEBUG: Start time: 1690066200781489735ns
---- Start execution at time Sat Jul 22 15:50:00 2023
---- plus 781489735 nanoseconds
DEBUG: _lf_new_token: Allocated memory for token: 0x5591d8f9dcd0
DEBUG: Scheduler: Initializing with 3 workers
DEBUG: Scheduler: Max reaction level: 2
DEBUG: Scheduler: Initialized vector of reactions for level 0 with size 1
DEBUG: Scheduler: Initialized vector of reactions for level 1 with size 1
DEBUG: Scheduler: Initialized vector of reactions for level 2 with size 1
Federate 1: LOG: Connecting to the RTI.
Federate 1: Successfully connected to RTI.
Federate 1: LOG: Connected to an RTI. Sending federation ID for authentication.
Federate 1: DEBUG: Waiting for response to federation ID from the RTI.
Federate 1: LOG: Received acknowledgment from the RTI.
Federate 1: Connected to RTI at localhost:15045.
Federate 1: DEBUG: Creating a socket server on port 15045.
Federate 1: DEBUG: Failed to get port 15045. Trying 15046.
Federate 1: LOG: Server for communicating with other federates started using port 15046.
Federate 1: DEBUG: Sent port 15046 to the RTI.
Federate 1: DEBUG: Scheduler: Initializing with 3 workers
Federate 1: DEBUG: Synchronizing with other federates.
Federate 1: DEBUG: Physical time: 1690066200782284908. Elapsed: 795173. Offset: 0
Federate 1: DEBUG: Sending time 1690066200782284908 to the RTI.
Federate 1: LOG: Accepted new connection from remote federate.
Federate 1: DEBUG: Received sending federate ID 0.
Federate 1: LOG: All remote federates are connected.
Federate 1: LOG: Listening to federate 0.
Federate 1: DEBUG: Waiting for a P2P message on socket 5.
Federate 1: DEBUG: Read 9 bytes.
Federate 1: Starting timestamp is: 1690066201882551140.
Federate 1: DEBUG: Physical time: 1690066200882672742. Elapsed: 101183007. Offset: 0
Federate 1: LOG: Current physical time is: 1690066200882672742.
Federate 1: LOG: Waiting for start time 1690066201882551140 plus STA 0.
Federate 1: DEBUG: -------- Waiting until physical time matches logical time 1690066201882551140
Federate 1: DEBUG: Physical time: 1690066200882738807. Elapsed: -999812333. Offset: 0
Federate 1: DEBUG: -------- Clock offset is 0 ns.
Federate 1: DEBUG: -------- Waiting 999812333 ns for physical time to match logical time 0.
Federate 1: DEBUG: Physical time: 1690066201882663697. Elapsed: 112557. Offset: 0
Federate 1: DEBUG: Done waiting for start time 1690066201882551140.
Federate 1: DEBUG: Physical time: 1690066201882674847. Elapsed: 123707. Offset: 0
Federate 1: DEBUG: Physical time is ahead of current time by 123707. This should be small.
Federate 1: DEBUG: Granted tag (0, 0) because the federate has neither upstream nor downstream federates.
Federate 1: Environment 0: ---- Spawning 3 workers.
Federate 1: LOG: Starting 3 worker threads in environment
Federate 1: LOG: Worker thread 0 started.
Federate 1: DEBUG: Worker 0 is out of ready reactions.
Federate 1: DEBUG: Scheduler: Worker 0 is trying to acquire the scheduling semaphore.
Federate 1: LOG: Worker thread 1 started.
Federate 1: DEBUG: Worker 1 is out of ready reactions.
Federate 1: DEBUG: Scheduler: Worker 1 is trying to acquire the scheduling semaphore.
Federate 1: LOG: Worker thread 2 started.
Federate 1: DEBUG: Worker 2 is out of ready reactions.
Federate 1: DEBUG: Scheduler: Worker 2 is the last idle thread.
Federate 1: DEBUG: Scheduler: Advancing tag.
Federate 1: LOG: Sending Logical Time Complete (LTC) (0, 0) to the RTI.
Federate 1: DEBUG: Sending tag (0, 0) to the RTI.
Federate 1: LOG: Earliest event on the event queue (or stop time if empty) is (1000000000, 0). Event queue has size 0.
Federate 1: DEBUG: Granted tag (1000000000, 0) because the federate has neither upstream nor downstream federates.
Federate 1: LOG: Earliest event on the event queue (or stexpected delay is 273558653 and 14726505130000000 and delay probability 0
Federation ID for executable /home/peter/lingua-franca/test/C/fed-gen/DistributedCountPhysical/bin/federate__c: c8ac4cf559984c94f37f7d0217fc180fc4f5ad56601a60d6
DEBUG: Physical time: 1690066200781153753. Elapsed: -7533305836073622055. Offset: 0
DEBUG: Start time: 1690066200781153753ns
---- Start execution at time Sat Jul 22 15:50:00 2023
---- plus 781153753 nanoseconds
DEBUG: Scheduler: Initializing with 2 workers
DEBUG: Scheduler: Max reaction level: 1
DEBUG: Scheduler: Initialized vector of reactions for level 0 with size 1
DEBUG: Scheduler: Initialized vector of reactions for level 1 with size 1
Federate 0: LOG: Connecting to the RTI.
Federate 0: Successfully connected to RTI.
Federate 0: LOG: Connected to an RTI. Sending federation ID for authentication.
Federate 0: DEBUG: Waiting for response to federation ID from the RTI.
Federate 0: LOG: Received acknowledgment from the RTI.
Federate 0: Connected to RTI at localhost:15045.
Federate 0: DEBUG: Sending address query for federate 1.
Federate 0: DEBUG: Sending address query for federate 1.
Federate 0: LOG: Received address 127.0.0.1 port 15046 for federate 1 from RTI.
Federate 0: Connected to federate 1, port 15046.
Federate 0: DEBUG: Scheduler: Initializing with 2 workers
Federate 0: DEBUG: Synchronizing with other federates.
Federate 0: DEBUG: Physical time: 1690066200882551140. Elapsed: 101397387. Offset: 0
Federate 0: DEBUG: Sending time 1690066200882551140 to the RTI.
Federate 0: DEBUG: Read 9 bytes.
Federate 0: DEBUG: Thread listening for MSG_TYPE_CLOSE_REQUEST from federate 1
Federate 0: Starting timestamp is: 1690066201882551140.
Federate 0: DEBUG: Physical time: 1690066200882632618. Elapsed: 101478865. Offset: 0
Federate 0: LOG: Current physical time is: 1690066200882632618.
Federate 0: LOG: Waiting for start time 1690066201882551140 plus STA 0.
Federate 0: DEBUG: -------- Waiting until physical time matches logical time 1690066201882551140
Federate 0: DEBUG: Physical time: 1690066200882686302. Elapsed: -999864838. Offset: 0
Federate 0: DEBUG: -------- Clock offset is 0 ns.
Federate 0: DEBUG: -------- Waiting 999864838 ns for physical time to match logical time 0.
Federate 0: DEBUG: Physical time: 1690066201882639425. Elapsed: 88285. Offset: 0
Federate 0: DEBUG: Done waiting for start time 1690066201882551140.
Federate 0: DEBUG: Physical time: 1690066201882650312. Elapsed: 99172. Offset: 0
Federate 0: DEBUG: Physical time is ahead of current time by 99172. This should be small.
Federate 0: DEBUG: Granted tag (0, 0) because the federate has neither upstream nor downstream federates.
Federate 0: Environment 0: ---- Spawning 2 workers.
Federate 0: LOG: Starting 2 worker threads in environment
Federate 0: LOG: Worker thread 0 started.
Federate 0: DEBUG: Worker 0 is out of ready reactions.
Federate 0: DEBUG: Scheduler: Worker 0 is trying to acquire the scheduling semaphore.
Federate 0: LOG: Worker thread 1 started.
Federate 0: DEBUG: Worker 1 is out of ready reactions.
Federate 0: DEBUG: Scheduler: Worker 1 is the last idle thread.
Federate 0: DEBUG: Scheduler: Advancing tag.
Federate 0: LOG: Sending Logical Time Complete (LTC) (0, 0) to the RTI.
Federate 0: DEBUG: Sending tag (0, 0) to the RTI.
Federate 0: LOG: Earliest event on the event queue (or stop time if empty) is (200000000, 0). Event queue has size 1.
Federate 0: DEBUG: Granted tag (200000000, 0) because the federate has neither upstream nor downstream federates.
Federate 0: LOG: Earliest event on the event queue (or stop time if empty) is (200000000, 0). Event queue has size 1.
Federate 0: LOG: Waiting until elapsed time 200000000.
Federate 0: DEBUG: -------- Waiting until physical time matches logical time 1690066202082551140
Federate 0: DEBUG: Physical time: 1690066201882988241. Elapsed: 437101. Offset: 0
Federate 0: DEBUG: -------- Clock offset is 0 ns.
Federate 0: DEBUG: -------- Waiting 199562899 ns for physical time to match logical time 200000000.
Federate 0: DEBUG: Physical time: 1690066202082651456. Elapsed: 200100316. Offset: 0
Federate 0: LOG: Earliest event on the event queue (or stop time if empty) is (200000000, 0). Event queue has size 1.
Federate 0: DEBUG: Physical time: 1690066202082674613. Elapsed: 200123473. Offset: 0
Federate 0: DEBUG: Physical time is ahead of next tag time by 123473. This should be small unless -fast is used.
Federate 0: LOG: --------- Start time step at tag (0, 0).
Federate 0: DEBUG: Physical time: 1690066202082679376. Elapsed: 200128236. Offset: 0
Federate 0: LOG: Advanced (elapsed) tag to (200000000, 0) at physical time 200128236
Federate 0: DEBUG: Triggering reaction federate__c.c reaction 0.
Federate 0: DEBUG: Scheduler: Enqueing reaction federate__c.c reaction 0, which has level 0.
Federate 0: DEBUG: Scheduler: Accessing triggered reactions at the level 0 with index 0.
Federate 0: DEBUG: Scheduler: Index for level 0 is at 0.
Federate 0: DEBUG: _lf_schedule: scheduling trigger 0x559c922f7c78 with delay 1000000000 and token (nil).
Federate 0: DEBUG: _lf_schedule: env->current_tag.time = 1690066202082551140. Total logical delay = 1000000000
Federate 0: DEBUG: Comparing event with elapsed time 1200000000 against stop time 1000000000.
Federate 0: DEBUG: _lf_schedule: event time is past the timeout. Discarding event.
Federate 0: DEBUG: _lf_replace_template_token: template: 0x559c922f7c78 newtoken: (nil).
delaying for time 611350623 with expected delay 273558653
Federate 0: DEBUG: There are 0 events deferred to the next microstep.
Federate 0: DEBUG: Scheduler: Done waiting for _lf_next_locked().
Federate 0: DEBUG: Scheduler: Notifying 1 workers.
Federate 0: DEBUG: Scheduler: New number of idle workers: 1.
Federate 0: DEBUG: Scheduler: Worker 1 popping reaction with level 0, index for level: 0.
Federate 0: DEBUG: Worker 1: Got from scheduler reaction federate__c.c reaction 0: level: 0, is control reaction: 0, chain ID: 1, and deadline -9223372036854775808.
Federate 0: LOG: Worker 1: Invoking reaction federate__c.c reaction 0 at elapsed tag (200000000, 0).
Federate 0: DEBUG: There are 1 outputs from reaction federate__c.c reaction 0.
Federate 0: DEBUG: Output 0 has been produced.
Federate 0: DEBUG: There are 1 trigger arrays associated with output 0.
Federate 0: DEBUG: Trigger 0x559c922f79d8 lists 1 reactions.
Federate 0: DEBUG: Scheduler: Enqueing reaction federate__c reaction 0, which has level 1.
Federate 0: DEBUG: Scheduler: Accessing triggered reactions at the level 1 with index 0.
Federate 0: DEBUG: Scheduler: Index for level 1 is at 0.
Federate 0: DEBUG: Worker 1: Done with reaction federate__c.c reaction 0.
Federate 0: DEBUG: Worker 1 is out of ready reactions.
Federate 0: DEBUG: Scheduler: Worker 1 is the last idle thread.
Federate 0: DEBUG: Scheduler: Notifying 1 workers.
Federate 0: DEBUG: Scheduler: New number of idle workers: 1.
Federate 0: DEBUG: Scheduler: Worker 1 popping reaction with level 1, index for level: 0.
Federate 0: DEBUG: Worker 1: Got from scheduler reaction federate__c reaction 0: level: 1, is control reaction: 0, chain ID: 1, and deadline -9223372036854775808.
Federate 0: LOG: Worker 1: Invoking reaction federate__c reaction 0 at elapsed tag (200000000, 0).
Federate 0: LOG: Sending untimed message to federate 1.
Federate 0: DEBUG: There are 0 outputs from reaction federate__c reaction 0.
Federate 0: DEBUG: Worker 1: Done with reaction federate__c reaction 0.
Federate 0: DEBUG: Worker 1 is out of ready reactions.
Federate 0: DEBUG: Scheduler: Worker 1 is the last idle thread.
Federate 0: DEBUG: Scheduler: Advancing tag.
Federate 0: LOG: Sending Logical Time Complete (LTC) (200000000, 0) to the RTI.
Federate 0: DEBUG: Sending tag (200000000, 0) to the RTI.
Federate 0: LOG: Earliest event on the event queue (or stop time if empty) is (1000000000, 0). Event queue has size 0.
Federate 0: DEBUG: Granted tag (1000000000, 0) because the federate has neither upstream nor downstream federates.
Federate 0: LOG: Earliest event on the event queue (or stop time if empty) is (1000000000, 0). Event queue has size 0.
Federate 0: LOG: Waiting until elapsed time 1000000000.
Federate 0: DEBUG: -------- Waiting until physical time matches logical time 1690066202882551140
Federate 0: DEBUG: Physical time: 1690066202694336873. Elapsed: 811785733. Offset: 0
Federate 0: DEBUG: -------- Clock offset is 0 ns.
Federate 0: DEBUG: -------- Waiting 188214267 ns for physical time to match logical time 1000000000.
Federate 0: DEBUG: Physical time: 1690066202882654157. Elapsed: 1000103017. Offset: 0
Federate 0: LOG: Earliest event on the event queue (or stop time if empty) is (1000000000, 0). Event queue has size 0.
Federate 0: DEBUG: Physical time: 1690066202882663901. Elapsed: 1000112761. Offset: 0
Federate 0: DEBUG: Physical time is ahead of next tag time by 112761. This should be small unless -fast is used.
Federate 0: LOG: --------- Start time step at tag (200000000, 0).
Federate 0: DEBUG: Physical time: 1690066202882668407. Elapsed: 1000117267. Offset: 0
Federate 0: LOG: Advanced (elapsed) tag to (1000000000, 0) at physical time 1000117267
Federate 0: DEBUG: Scheduling shutdown reactions.
Federate 0: DEBUG: There are 0 events deferred to the next microstep.
Federate 0: DEBUG: Scheduler: Done waiting for _lf_next_locked().
Federate 0: DEBUG: Scheduler: Advancing tag.
Federate 0: LOG: Sending Logical Time Complete (LTC) (1000000000, 0) to the RTI.
Federate 0: DEBUG: Sending tag (1000000000, 0) to the RTI.
Federate 0: DEBUG: Scheduler: Reached stop tag.
Federate 0: DEBUG: Worker 1: Stop requested. Exiting.
Federate 0: DEBUG: Scheduler: Worker 0 acquired the scheduling semaphore.
Federate 0: DEBUG: Granted tag (7533305834972224667, 4294967295) because the federate has neither upstream nor downstream federates.
Federate 0: DEBUG: Worker 0: Stop requested. Exiting.
Federate 0: LOG: ---- All worker threads exited successfully.
Federate 0: LOG: Resigned.
Federate 0: DEBUG: Requesting closing of incoming P2P sockets.
Federate 0: DEBUG: Waiting for inbound p2p socket listener threads.
Federate 0: DEBUG: Waiting for RTI's socket listener threads.
Federate 0: DEBUG: Received EOF from federate 1.
Federate 0: Connection to the RTI closed with an EOF.
Federate 0: DEBUG: Freeing memory occupied by the federate.
Federate 0: ---- Terminating environment 0
Federate 0: LOG: --------- Start time step at tag (1000000000, 0).
---- Elapsed logical time (in nsec): 1,000,000,000
Federate 0: DEBUG: Physical time: 1690066202883074434. Elapsed: 1000523294. Offset: 0
---- Elapsed physical time (in nsec): 1,000,523,294
Federate 0: DEBUG: Freeing memory at 0x559c922f7e00
Federate 0: DEBUG: Freeing allocation record at 0x559c922f7e20
Federate 0: DEBUG: Freeing memory at 0x559c922f7dc0
Federate 0: DEBUG: Freeing allocation record at 0x559c922f7de0
Federate 0: DEBUG: Freeing memory at 0x559c922f7d80
Federate 0: DEBUG: Freeing allocation record at 0x559c922f7da0
Federate 0: DEBUG: Freeing memory at 0x559c922f7d40
Federate 0: DEBUG: Freeing allocation record at 0x559c922f7d60
RTI: Federation ID: c8ac4cf559984c94f37f7d0217fc180fc4f5ad56601a60d6
RTI: Number of federates: 2
RTI: Clock sync: init
RTI: Clock sync exchanges per interval: 10
Starting RTI for 2 federates in federation ID c8ac4cf559984c94f37f7d0217fc180fc4f5ad56601a60d6.
RTI using TCP port 15045 for federation c8ac4cf559984c94f37f7d0217fc180fc4f5ad56601a60d6.
RTI: Listening for federates.
RTI: All expected federates have connected. Starting execution.
RTI: Waiting for thread handling federate 0.
Federate 0 has resigned.
RTI: Federate 0 thread exited.
RTI: Waiting for thread handling federate 1.
Federate 1 has resigned.
RTI: Federate 1 thread exited.
RTI is exiting.
RTI is exiting.
op time if empty) is (1000000000, 0). Event queue has size 0.
Federate 1: LOG: Waiting until elapsed time 1000000000.
Federate 1: DEBUG: -------- Waiting until physical time matches logical time 1690066202882551140
Federate 1: DEBUG: Physical time: 1690066201883052306. Elapsed: 501166. Offset: 0
Federate 1: DEBUG: -------- Clock offset is 0 ns.
Federate 1: DEBUG: -------- Waiting 999498834 ns for physical time to match logical time 1000000000.
Federate 1: DEBUG: Received a P2P message on socket 5 of type 16.
Federate 1: LOG: Received untimed message from federate 0.
Federate 1: DEBUG: Receiving message to port 0 of length 4.
Federate 1: LOG: Message received by federate: . Length: 4.
Federate 1: DEBUG: Calling schedule for message received on a physical connection.
Federate 1: DEBUG: _lf_initialize_token_with_value: template 0x5591d8f9d9e0, value 0x7f52e4000d50
Federate 1: DEBUG: _lf_new_token: Allocated memory for token: 0x7f52e4000de0
Federate 1: DEBUG: _lf_schedule: scheduling trigger 0x5591d8f9db30 with delay 0 and token 0x7f52e4000de0.
Federate 1: DEBUG: _lf_schedule: Incremented ref_count of 0x7f52e4000de0 to 2.
delaying for time 611350623 with expected delay 273558653
Federate 1: DEBUG: _lf_schedule: env->current_tag.time = 1690066201882551140. Total logical delay = 0
Federate 1: DEBUG: Physical time: 1690066203305795747. Elapsed: 1423244607. Offset: 0
Federate 1: DEBUG: Comparing event with elapsed time 1423244607 against stop time 1000000000.
Federate 1: DEBUG: _lf_schedule: event time is past the timeout. Discarding event.
Federate 1: DEBUG: _lf_done_using: token = 0x7f52e4000de0, ref_count = 2.
Federate 1: DEBUG: Waiting for a P2P message on socket 5.
Federate 1: DEBUG: Physical time: 1690066203305848541. Elapsed: 1423297401. Offset: 0
Federate 1: LOG: Earliest event on the event queue (or stop time if empty) is (1000000000, 0). Event queue has size 0.
Federate 1: DEBUG: Physical time: 1690066203305859168. Elapsed: 1423308028. Offset: 0
Federate 1: DEBUG: Physical time is ahead of next tag time by 423308028. This should be small unless -fast is used.
Federate 1: LOG: --------- Start time step at tag (0, 0).
Federate 1: DEBUG: Physical time: 1690066203305863744. Elapsed: 1423312604. Offset: 0
Federate 1: LOG: Advanced (elapsed) tag to (1000000000, 0) at physical time 1423312604
Federate 1: DEBUG: Scheduling shutdown reactions.
Federate 1: DEBUG: Scheduler: Enqueing reaction federate__p.p reaction 1, which has level 2.
Federate 1: DEBUG: Scheduler: Accessing triggered reactions at the level 2 with index 0.
Federate 1: DEBUG: Scheduler: Index for level 2 is at 0.
Federate 1: DEBUG: There are 0 events deferred to the next microstep.
Federate 1: DEBUG: Scheduler: Done waiting for _lf_next_locked().
Federate 1: DEBUG: Scheduler: Notifying 1 workers.
Federate 1: DEBUG: Scheduler: New number of idle workers: 2.
Federate 1: DEBUG: Scheduler: Worker 2 popping reaction with level 2, index for level: 0.
Federate 1: Received EOF from peer federate 0. Closing the socket.
Federate 1: DEBUG: Worker 2: Got from scheduler reaction federate__p.p reaction 1: level: 2, is control reaction: 0, chain ID: 1, and deadline -9223372036854775808.
Federate 1: LOG: Worker 2: Invoking reaction federate__p.p reaction 1 at elapsed tag (1000000000, 0).
Federate 1: LOG: Resigned.
Federate 1: DEBUG: Requesting closing of incoming P2P sockets.
Federate 1: DEBUG: Waiting for inbound p2p socket listener threads.
Federate 1: LOG: Waiting for 1 threads listening for incoming messages to exit.
Federate 1: DEBUG: Waiting for RTI's socket listener threads.
Federate 1: Connection to the RTI closed with an EOF.
Federate 1: DEBUG: Freeing memory occupied by the federate.
Federate 1: ---- Terminating environment 0
Federate 1: LOG: --------- Start time step at tag (1000000000, 0).
---- Elapsed logical time (in nsec): 1,000,000,000
Federate 1: DEBUG: Physical time: 1690066203306185613. Elapsed: 1423634473. Offset: 0
---- Elapsed physical time (in nsec): 1,423,634,473
Federate 1: DEBUG: _lf_done_using: token = 0x5591d8f9dcd0, ref_count = 1.
Federate 1: DEBUG: _lf_free_token: Putting token on the recycling bin: 0x5591d8f9dcd0
Federate 1: DEBUG: Freeing token from _lf_token_recycling_bin: 0x5591d8f9dcd0
Federate 1: DEBUG: Freeing memory at 0x5591d8f9e160
Federate 1: DEBUG: Freeing allocation record at 0x5591d8f9e180
Federate 1: DEBUG: Freeing memory at 0x5591d8f9e120
Federate 1: DEBUG: Freeing allocation record at 0x5591d8f9e140
Federate 1: DEBUG: Freeing memory at 0x5591d8f9e0e0
Federate 1: DEBUG: Freeing allocation record at 0x5591d8f9e100
Federate 1: DEBUG: Freeing memory at 0x5591d8f9e0a0
Federate 1: DEBUG: Freeing allocation record at 0x5591d8f9e0c0
RTI has exited. Wait for federates to exit.
Killing federate 358640.
Killing federate 358641.
#### Killing RTI 358638.
